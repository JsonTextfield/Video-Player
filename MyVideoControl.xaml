<UserControl
    x:Class="Video_Player.MyVideoControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="900"
    d:DesignWidth="1600"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    mc:Ignorable="d">
    <UserControl.ContextFlyout>
        <MenuFlyout>
            <MenuFlyoutItem
                Name="rotateL"
                Click="MenuFlyoutItem_Click"
                Text="Rotate Left" />
            <MenuFlyoutItem
                Name="rotateR"
                Click="MenuFlyoutItem_Click"
                Text="Rotate Right" />
            <MenuFlyoutItem
                Name="flipH"
                Click="MenuFlyoutItem_Click"
                Text="Flip Horizontally" />
            <MenuFlyoutItem Text="Take Snapshot" />
        </MenuFlyout>
    </UserControl.ContextFlyout>
    <RelativePanel>
        <MediaPlayerElement
            x:Name="mediaPlayer"
            RelativePanel.Above="slider"
            RenderTransformOrigin="0.5,0.5">
            <MediaPlayerElement.RenderTransform>
                <TransformGroup>
                    <ScaleTransform x:Name="scale" ScaleX="1" />
                    <RotateTransform x:Name="rotate" CenterX="0.5" CenterY="0.5" />
                </TransformGroup>
            </MediaPlayerElement.RenderTransform>
        </MediaPlayerElement>
        <StackPanel
            Name="ButtonPanel"
            Orientation="Horizontal"
            RelativePanel.AlignBottomWithPanel="True"
            RelativePanel.AlignLeftWithPanel="True"
            Spacing="5">
            <Button
                x:Name="playPause"
                MinWidth="60"
                AllowFocusOnInteraction="False"
                Click="PlayPause"
                Visibility="Visible">
                <SymbolIcon Symbol="Play" />
            </Button>

            <ToggleButton
                x:Name="reverseButton"
                MinWidth="60"
                Click="reverseButton_Checked"
                RenderTransformOrigin="0.5,0.5">
                <ToggleButton.RenderTransform>
                    <ScaleTransform ScaleX="-1" />
                </ToggleButton.RenderTransform>
                <SymbolIcon Symbol="Play" />
            </ToggleButton>

            <ToggleButton
                x:Name="toggleA"
                MinWidth="60"
                Click="toggle_Click"
                Content="A"
                RelativePanel.AlignBottomWithPanel="True"
                RelativePanel.RightOf="videoSpeedLabel" />

            <ToggleButton
                x:Name="toggleB"
                MinWidth="60"
                Click="toggle_Click"
                Content="B"
                RelativePanel.AlignBottomWithPanel="True"
                RelativePanel.RightOf="toggleA" />

            <ToggleButton
                x:Name="toggleLoop"
                MinWidth="60"
                Click="toggle_Click"
                RelativePanel.AlignBottomWithPanel="True"
                RelativePanel.RightOf="toggleB">
                <SymbolIcon Symbol="RepeatAll" />
            </ToggleButton>

            <TextBlock
                x:Name="videoSpeedLabel"
                MinWidth="60"
                Padding="5"
                Text="1.00" />
        </StackPanel>

        <Slider
            x:Name="slider"
            Margin="10,0,10,0"
            IsThumbToolTipEnabled="False"
            ManipulationCompleted="Slider_ManipulationCompleted"
            ManipulationMode="All"
            ManipulationStarted="slider_ManipulationStarted"
            RelativePanel.AlignBottomWithPanel="True"
            RelativePanel.LeftOf="timestamp"
            RelativePanel.RightOf="ButtonPanel"
            StepFrequency="0.0001"
            ValueChanged="slider_ValueChanged" />

        <!--  ManipulationDelta="slider_ManipulationDelta"  -->
        <TextBlock
            x:Name="timestamp"
            Padding="5"
            RelativePanel.AlignBottomWithPanel="True"
            RelativePanel.AlignRightWithPanel="True"
            Text="0:00/0:00"
            TextAlignment="Center"
            Visibility="Visible" />

    </RelativePanel>


</UserControl>
